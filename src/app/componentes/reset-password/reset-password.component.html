<div class="contenido">
  <img class="utd" src="/assets/utd.jpg" alt="Imagen">
  
  <div class="contenedor">
    <div class="container">
      <div class="reset-password-container">
        <form (submit)="resetearContrasena(); $event.preventDefault()">
          <h1>Restablecer Contraseña</h1>
          
          @if (error) {
            <div class="error-message">
              <i class="material-symbols-outlined">error</i>
              {{ error }}
            </div>
          }

          @if (exito) {
            <div class="success-message">
              <i class="material-symbols-outlined">check_circle</i>
              Contraseña actualizada correctamente. Serás redirigido al inicio de sesión...
            </div>
          }

          <div class="inputs">
            <div class="contenedor2">
              <p class="tipo">Nueva Contraseña</p>
              <div class="password-container">
                <input 
                  [type]="mostrarContrasena ? 'text' : 'password'"
                  [(ngModel)]="nuevaContrasena"
                  placeholder="Nueva contraseña"
                  name="nuevaContrasena"
                  [class.input-error]="contrasenaError"
                  required
                />
                <button type="button" class="toggle-password" (click)="toggleMostrarContrasena()">
                  <i class="material-symbols-outlined">{{ mostrarContrasena ? 'visibility_off' : 'visibility' }}</i>
                </button>
              </div>
              @if (contrasenaError) {
                <div class="error-container">
                  <div class="error-message">
                    <i class="material-symbols-outlined">error</i>
                    {{ contrasenaError }}
                  </div>
                </div>
              }
            </div>

            <div class="contenedor2">
              <p class="tipo">Confirmar Contraseña</p>
              <div class="password-container">
                <input 
                  [type]="mostrarConfirmarContrasena ? 'text' : 'password'"
                  [(ngModel)]="confirmarContrasena"
                  placeholder="Confirmar contraseña"
                  name="confirmarContrasena"
                  required
                />
                <button type="button" class="toggle-password" (click)="toggleMostrarConfirmarContrasena()">
                  <i class="material-symbols-outlined">{{ mostrarConfirmarContrasena ? 'visibility_off' : 'visibility' }}</i>
                </button>
              </div>
            </div>
          </div>

          <button type="submit" [disabled]="!nuevaContrasena || !confirmarContrasena">
            Restablecer Contraseña
          </button>
        </form>
      </div>
    </div>
  </div>

  <div class="fondo">
    <div class="mapa-blur"></div>
    <div class="mapa"></div>
  </div>
</div>
